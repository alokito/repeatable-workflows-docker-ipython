<!DOCTYPE html>
<html>
  <head>
    <title>Title</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

    <link href='assets/html.css' rel='stylesheet' type='text/css'> </link>

  </head>
  <body>
	
  <a href="https://github.com/odewahn/repeatable-workflows-docker-ipython">
    <img src="https://s3.amazonaws.com/orm-atlas-media/fork-on-github.png" class="fork-on-github"/>
  </a>

	
<textarea id="source">

class: center, middle

# Repeatable Workflows with <br> Docker and IPython Notebooks

## Andrew Odewahn
### O'Reilly Media

_November 19, 2014_

---

# Not this guy...

.center[<img src="images/not-this-guy.png" width=70%/>]


---

#  These guys...

.center[<img src="images/about-orm.png" width=70%/>]

---

# Agenda

* Quick introduction to IPython Notebook
* O'Reilly experiments with IPython Notebooks
* Docker for shareable, repeatable learning environments

---


# IPython Notebooks

### "an open-source, interactive computing environment that lets you combine live code, narrative text, mathematics, plots and rich media in one document."

* 500K â€“ 1.5M users
* Used in scientific community to "narrate computation" and collaborate
* Applications as varied as
  * Data visualization and plotting
  * Earth Science and Geo-Spatial data
  * Economics
  * Machine Learning
  * Physics, Chemistry, Biology
  * Psychology and Neuroscience
  * Social sciences
  * Statistics, Machine Learning and Data Science

---

# Selections from the [Gallery](https://github.com/ipython/ipython/wiki/A-gallery-of-interesting-IPython-Notebooks#reproducible-academic-publications) 

###  [A Crash Course in Python for Scientists](http://nbviewer.ipython.org/gist/rpmuller/5920182) by Rick Muller

### [Warming Ocean Threatens Sea Life](http://www.scientificamerican.com/article.cfm?id=warming-ocean-threatens-sea-life) by Roberto de Almeida

###  [St. Louis County Segregation Analysis](http://nbviewer.ipython.org/github/buzzfeednews/2014-08-st-louis-county-segregation/blob/master/notebooks/segregation-analysis.ipynb) by  Jeremy Singer-Vine

### [Automatic segmentation of odor maps in the mouse olfactory bulb using regularized non-negative matrix factorization](http://www.sciencedirect.com/science/article/pii/S1053811914003103) by J. Soelter

### [Fractals, complex numbers, and your imagination](http://nbviewer.ipython.org/github/cfangmeier/ipython_notebooks/blob/master/Imagination.ipynb), by Caleb Fangmeier

---

# Browser-based authoring application for text and math

<img src="images/ipynb-edit.png" width=100%/>

---

# Can also run code and graphing applications

<img src="images/ipynb.png" width=100%/>

---

# Interactive Demo

* The Notebook was featured in _Nature_'s [Sharing the code](http://www.nature.com/news/interactive-notebooks-sharing-the-code-1.16261) 
* The article included a live demo


<span class="remark-slide-content center" >
   <a href="http://www.nature.com/news/ipython-interactive-demo-7.21492" target="_blank">
      <img src="images/nature-logo.png"/>
   </a>
</span>


---

# Collaborate using git and GitHub

* Because it's text, you can collaborate w/colleagues on GitHub

* Easy way to share work with colleagues

* flow worow (branch -- commit -- merge), although it can be painful with JSON


---

# JSON data with a well-defined format

* Internally, Notebooks uses a JSON format composed of "cells"
  * Heading
  * Markdown
  * Code

```javascript
{
 "cell_type": "markdown",
 "metadata": {},
 "source": [
  "### The Units of Probability Density\n",
  "\n",
  "This is an important thing to remember: the units of a ", 
  "probability density are the inverse of the units of the",
  "quantity in question. Keeping this in mind will help you",
  "recognize all sorts of common mistakes in computations of probability."
 ]

```


---

# O'Reilly and IPython Notebooks

* Looking to offer Notebook-based learning content (online and in person) 
* Lessons learned using Docker to create repeatable workflows for IPython Notebooks
* [Just Enough Math](https://github.com/odewahn/jem-docker) by [Paco Nathan](http://liber118.com/pxn/)

.center[<img src="images/jem-strata.png" width=90%/>]



---

# Dockerfile

The Dockerfile allows you to specify a base image, add your dependencies and code, setup the environment, and other "tradional" sysadmin-style tasks.  

Here's the simple Dockerfile you might use with IPython:

```Dockerfile
FROM ipython/scipystack
MAINTAINER Andrew Odewahn "http://odewahn.com"

RUN apt-get update
RUN pip install Flask

CMD ipython notebook --ip=0.0.0.0 --no-browser

```



---

# fig.yml

Adding a fig file makes the notebooks simple to start, and also enables you to easily mount a local volume.  

Here's the [fig.yml](https://github.com/odewahn/jem-docker/blob/master/fig.yml) file from _Just Enough Math_.

```yml
web:
  build: .
  volumes:
    - .:/usr/src:rw
  ports:
    - "8888:8888"
```


---

# References



    </textarea>
    <script src="//gnab.github.io/remark/downloads/remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create();
    </script>

  </body>
</html>